{"version":"0.1.0","name":"token_distributor","instructions":[{"name":"depositAndDistribute","accounts":[{"name":"config","isMut":false,"isSigner":false},{"name":"mint","isMut":false,"isSigner":false},{"name":"userRecord","isMut":true,"isSigner":false},{"name":"user","isMut":true,"isSigner":true},{"name":"userTokenAccount","isMut":true,"isSigner":false},{"name":"vaultTokenAccount","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]},{"name":"getUserTotal","accounts":[{"name":"userRecord","isMut":false,"isSigner":false},{"name":"user","isMut":false,"isSigner":false}],"args":[],"returns":"u64"},{"name":"deductUserTotal","accounts":[{"name":"config","isMut":false,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true},{"name":"userRecord","isMut":true,"isSigner":false},{"name":"targetUser","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]},{"name":"emergencyWithdraw","accounts":[{"name":"config","isMut":false,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true},{"name":"vaultTokenAccount","isMut":true,"isSigner":false},{"name":"adminTokenAccount","isMut":true,"isSigner":false},{"name":"mint","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]},{"name":"initialize","accounts":[{"name":"config","isMut":true,"isSigner":false},{"name":"admin","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"tokenMint","type":"publicKey"}]},{"name":"setRecipients","accounts":[{"name":"config","isMut":true,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true}],"args":[{"name":"recipients","type":{"vec":"publicKey"}},{"name":"percentages","type":{"vec":"u16"}}]},{"name":"setPauseStatus","accounts":[{"name":"config","isMut":true,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true}],"args":[{"name":"isPaused","type":"bool"}]},{"name":"transferAdmin","accounts":[{"name":"config","isMut":true,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true}],"args":[{"name":"newAdmin","type":"publicKey"}]},{"name":"getRecipientsConfig","accounts":[{"name":"config","isMut":false,"isSigner":false}],"args":[],"returns":{"defined":"RecipientInfo"}},{"name":"getUsersDeposits","accounts":[{"name":"config","isMut":false,"isSigner":false}],"args":[],"returns":{"vec":{"defined":"UserDepositInfo"}}}],"accounts":[{"name":"Config","type":{"kind":"struct","fields":[{"name":"admin","type":"publicKey"},{"name":"tokenMint","type":"publicKey"},{"name":"recipients","type":{"vec":"publicKey"}},{"name":"percentages","type":{"vec":"u16"}},{"name":"recipientCount","type":"u8"},{"name":"isPaused","type":"bool"}]}},{"name":"UserRecord","type":{"kind":"struct","fields":[{"name":"user","type":"publicKey"},{"name":"totalDeposited","type":"u64"}]}}],"types":[{"name":"RecipientInfo","type":{"kind":"struct","fields":[{"name":"recipients","type":{"vec":"publicKey"}},{"name":"percentages","type":{"vec":"u16"}},{"name":"recipientCount","type":"u8"}]}},{"name":"UserDepositInfo","type":{"kind":"struct","fields":[{"name":"user","type":"publicKey"},{"name":"totalDeposited","type":"u64"}]}}],"events":[{"name":"ConfigInitializedEvent","fields":[{"name":"admin","type":"publicKey","index":false},{"name":"tokenMint","type":"publicKey","index":false},{"name":"timestamp","type":"i64","index":false}]},{"name":"TokensDistributedEvent","fields":[{"name":"user","type":"publicKey","index":false},{"name":"amount","type":"u64","index":false},{"name":"recipientsCount","type":"u8","index":false},{"name":"timestamp","type":"i64","index":false}]},{"name":"UserTotalDeductedEvent","fields":[{"name":"admin","type":"publicKey","index":false},{"name":"targetUser","type":"publicKey","index":false},{"name":"amount","type":"u64","index":false},{"name":"newTotal","type":"u64","index":false},{"name":"timestamp","type":"i64","index":false}]},{"name":"EmergencyWithdrawEvent","fields":[{"name":"admin","type":"publicKey","index":false},{"name":"amount","type":"u64","index":false},{"name":"vaultBalanceBefore","type":"u64","index":false},{"name":"vaultBalanceAfter","type":"u64","index":false},{"name":"timestamp","type":"i64","index":false}]},{"name":"RecipientsUpdatedEvent","fields":[{"name":"admin","type":"publicKey","index":false},{"name":"oldRecipientCount","type":"u8","index":false},{"name":"newRecipientCount","type":"u8","index":false},{"name":"timestamp","type":"i64","index":false}]},{"name":"PauseStatusChangedEvent","fields":[{"name":"admin","type":"publicKey","index":false},{"name":"isPaused","type":"bool","index":false},{"name":"timestamp","type":"i64","index":false}]},{"name":"AdminTransferredEvent","fields":[{"name":"oldAdmin","type":"publicKey","index":false},{"name":"newAdmin","type":"publicKey","index":false},{"name":"timestamp","type":"i64","index":false}]}],"errors":[{"code":6000,"name":"MismatchedArrayLengths","msg":"接收者和比例数组长度不匹配"},{"code":6001,"name":"TooManyRecipients","msg":"接收者数量过多（最多20个）"},{"code":6002,"name":"InvalidPercentageSum","msg":"比例总和必须等于10000（100%）"},{"code":6003,"name":"NoRecipientsConfigured","msg":"未配置接收者"},{"code":6004,"name":"Overflow","msg":"算术溢出"},{"code":6005,"name":"Underflow","msg":"算术下溢"},{"code":6006,"name":"InvalidRecipientCount","msg":"接收者账户数量不正确"},{"code":6007,"name":"InvalidTokenMint","msg":"代币mint地址不匹配"},{"code":6008,"name":"InsufficientBalance","msg":"余额不足"},{"code":6009,"name":"InvalidRecipientOwner","msg":"接收者账户owner不匹配配置"},{"code":6010,"name":"Unauthorized","msg":"未授权操作"},{"code":6011,"name":"InsufficientVaultBalance","msg":"Vault余额不足"},{"code":6012,"name":"DuplicateRecipient","msg":"存在重复的接收者地址"},{"code":6013,"name":"EmptyRecipientsList","msg":"接收者列表为空"},{"code":6014,"name":"ZeroPercentage","msg":"百分比不能为0"},{"code":6015,"name":"ContractPaused","msg":"合约已暂停"},{"code":6016,"name":"InvalidNewAdmin","msg":"无效的新管理员地址"}]}